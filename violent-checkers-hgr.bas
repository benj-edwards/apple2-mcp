1 DIM PX(23),PY(23),PH(23),PT(23):T=1:S=-1:CX=140:CY=96:VX=0:VY=0:MP=-1
2 FOR I=0 TO 11:PX(I)=30+(I-INT(I/4)*4)*60:PY(I)=20+INT(I/4)*25:PT(I)=2:PH(I)=3:NEXT
3 FOR I=12 TO 23:J=I-12:PX(I)=30+(J-INT(J/4)*4)*60:PY(I)=105+INT(J/4)*25:PT(I)=1:PH(I)=3:NEXT
10 HGR:HCOLOR=3:HPLOT 0,0 TO 279,0 TO 279,159 TO 0,159 TO 0,0
20 FOR I=0 TO 23:IF PH(I)<=0 THEN 50
25 X=INT(PX(I)):Y=INT(PY(I)):IF PT(I)=1 THEN HCOLOR=5:GOTO 35
30 HCOLOR=6
35 FOR R=1 TO 8:HPLOT X-R,Y TO X+R,Y:NEXT:FOR R=1 TO 6:HPLOT X,Y-R TO X,Y+R:NEXT
45 IF I=S THEN HCOLOR=3:HPLOT X-10,Y-8 TO X+10,Y-8 TO X+10,Y+8 TO X-10,Y+8 TO X-10,Y-8
50 NEXT I:HCOLOR=3:HPLOT CX-6,CY TO CX+6,CY:HPLOT CX,CY-6 TO CX,CY+6
55 IF MP>=0 AND (ABS(VX)+ABS(VY)>.5) THEN 200
60 VTAB 22:IF T=1 THEN PRINT "ORANGE: IJKL SPACE";
62 IF T=2 THEN PRINT "BLUE: IJKL SPACE  ";
65 GET A$:IF A$="I" AND CY>10 THEN CY=CY-5
66 IF A$="K" AND CY<150 THEN CY=CY+5
67 IF A$="J" AND CX>10 THEN CX=CX-7
68 IF A$="L" AND CX<270 THEN CX=CX+7
70 IF A$<>" " THEN 10
75 IF S>=0 THEN 100
80 FOR I=0 TO 23:IF PH(I)<=0 OR PT(I)<>T THEN 90
85 DX=CX-PX(I):DY=CY-PY(I):IF DX*DX+DY*DY<150 THEN S=I:GOTO 10
90 NEXT I:GOTO 10
100 DX=PX(S)-CX:DY=PY(S)-CY:D=SQR(DX*DX+DY*DY):IF D<5 THEN S=-1:GOTO 10
105 VX=DX/D*8:VY=DY/D*8:MP=S:S=-1:GOTO 200
200 PX(MP)=PX(MP)+VX:PY(MP)=PY(MP)+VY:VX=VX*.9:VY=VY*.9
205 IF PX(MP)<10 THEN PX(MP)=10:VX=-VX*.8
206 IF PX(MP)>269 THEN PX(MP)=269:VX=-VX*.8
207 IF PY(MP)<10 THEN PY(MP)=10:VY=-VY*.8
208 IF PY(MP)>150 THEN PY(MP)=150:VY=-VY*.8
210 FOR I=0 TO 23:IF I=MP OR PH(I)<=0 THEN 230
215 DX=PX(MP)-PX(I):DY=PY(MP)-PY(I):D=DX*DX+DY*DY:IF D>200 THEN 230
220 PH(I)=PH(I)-1:VX=-VX*.5:VY=-VY*.5:D=SQR(D):PX(MP)=PX(I)+DX/D*15:PY(MP)=PY(I)+DY/D*15
230 NEXT I:IF ABS(VX)+ABS(VY)>.5 THEN 10
235 MP=-1:VX=0:VY=0:IF T=1 THEN T=2:GOTO 240
238 T=1
240 C1=0:C2=0:FOR I=0 TO 23:IF PH(I)>0 AND PT(I)=1 THEN C1=C1+1
245 IF PH(I)>0 AND PT(I)=2 THEN C2=C2+1
250 NEXT I:IF C1=0 THEN VTAB 23:PRINT "BLUE WINS!":END
255 IF C2=0 THEN VTAB 23:PRINT "ORANGE WINS!":END
260 GOTO 10
